import e,{useState as t,useEffect as n}from"react";function a(e,t,n,a){return new(n||(n=Promise))((function(r,l){function s(e){try{o(a.next(e))}catch(e){l(e)}}function c(e){try{o(a.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}o((a=a.apply(e,t||[])).next())}))}function r(e,t){var n,a,r,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(l=0)),l;)try{if(n=1,a&&(r=2&c[0]?a.return:c[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,c[1])).done)return r;switch(a=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,a=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){l=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){l.label=c[1];break}if(6===c[0]&&l.label<r[1]){l.label=r[1],r=c;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(c);break}r[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],a=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}"function"==typeof SuppressedError&&SuppressedError;var l=function(l){var s=l.setDateUserFormData,c=l.dateFormatterFunction,o=l.reservationDayName,i=l.errorToast,u=l.wrongDateErrorMessage,f=l.hasFetcher,p=l.getAvailableDates,m=l.getAvailableDatesErrorRollback,d=t(new Date),h=d[0],x=d[1],g=t([]),b=g[0],v=g[1];n((function(){a(void 0,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:if(!f)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,p()];case 2:return e=t.sent(),v(e),[3,4];case 3:return t.sent(),m(),[3,4];case 4:return[2]}}))}))}),[p,m,f]);return e.createElement("div",{className:"relative w-full h-full flex flex-col p-2 md:p-4 border border-black shadow-md bg-white"},0===b.length&&e.createElement("div",{className:"h-full w-full absolute top-0 left-0 backdrop-blur-sm flex items-center justify-center"},e.createElement("div",{className:"p-12 bg-white border border-black flex flex-col space-y-4 items-center justify-center shadow-sm"},e.createElement("span",{className:"font-poppins text-black text-2xl font-bold"},"Dates to be decided for reservation"),e.createElement("span",{className:"font-poppins text-slate-600 text-xl "},"Please come back later"))),e.createElement("div",{className:"flex flex-row justify-between items-center md:p-2 rounded"},e.createElement("button",{className:"p-2 px-6 text-black uppercase font-poppins font-light text-lg hover:scale-110",onClick:function(){x((function(e){var t=new Date(e);return t.setMonth(t.getMonth()-1),t.setDate((new Date).getDate()),t}))}},"Prev"),e.createElement("span",{className:"text-gray-600 font-poppins text-md"},h.toLocaleDateString("default",{month:"long",year:"numeric"})),e.createElement("button",{className:"p-2 px-6  text-black uppercase font-poppins font-light text-lg hover:scale-110",onClick:function(){x((function(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t.setDate((new Date).getDate()),t}))}},"Next")),e.createElement("div",{className:"grid grid-cols-7 w-full gap-4"},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(t){return e.createElement("div",{key:t,className:"flex items-center justify-center p-2 md:p-8 text-xs font-poppins uppercase text-slate-600 rounded-full"},t)})),function(){for(var t=[],n=new Date(h.getFullYear(),h.getMonth(),1).getDay(),a=new Date(h.getFullYear(),h.getMonth()+1,0).getDate(),r=0;r<n;r++)t.push(e.createElement("span",{key:"empty-".concat(r),className:"p-10"}));for(var l=function(a){var r=a===(new Date).getDate()&&h.getMonth()===(new Date).getMonth()&&h.getFullYear()===(new Date).getFullYear(),l=(n+a-1)%7==6,o=(n+a-1)%7==0,f=new Date(h.getFullYear(),h.getMonth(),a+1).toISOString().split("T")[0];t.push(e.createElement("div",{className:"flex items-center justify-center w-full",key:a},e.createElement("div",{onClick:function(){!function(e){var t=new Date(e);t.setDate(t.getDate()+1);var n=void 0;n=c?c(t):t.toISOString().split("T")[0],b.includes(n)?(x(e),s(n)):i(u)}(new Date(h.getFullYear(),h.getMonth(),a))},className:"flex items-center justify-center w-10 h-10 md:w-16 md:h-16 text-sm font-poppins text-center rounded-full hover:scale-105 duration-200 hover:cursor-pointer ".concat(r?"bg-emerald-200":h.getDate()===a&&b.includes(f)?"bg-emerald-500":l||o?"bg-red-100":b.includes(f)?"bg-cyan-500":"bg-slate-100")},a)))},o=1;o<=a;o++)l(o);return t}()),e.createElement("div",{className:"flex flex-row space-x-5 mt-12"},e.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},e.createElement("div",{className:"w-4 h-4 bg-emerald-100 rounded-full"}),e.createElement("h6",{className:"text-xs font-light font-poppins"},"Current date")),e.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},e.createElement("div",{className:"w-4 h-4 bg-emerald-500 rounded-full"}),e.createElement("h6",{className:"text-xs font-light font-poppins"},"Selected Date")),e.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},e.createElement("div",{className:"w-4 h-4 bg-cyan-500 rounded-full"}),e.createElement("h6",{className:"text-xs font-light font-poppins"},o)),e.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},e.createElement("div",{className:"w-4 h-4 bg-slate-200 rounded-full"}),e.createElement("h6",{className:"text-xs font-light font-poppins"},"Date Unavailable")),e.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},e.createElement("div",{className:"w-4 h-4 bg-red-200 rounded-full"}),e.createElement("h6",{className:"text-xs font-light font-poppins"},"Weekend"))))};export{l as BookingCalendar};
