"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e);function n(e,t,a,n){return new(a||(a=Promise))((function(l,r){function s(e){try{o(n.next(e))}catch(e){r(e)}}function c(e){try{o(n.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,c)}o((n=n.apply(e,t||[])).next())}))}function l(e,t){var a,n,l,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(o){return function(c){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(a=1,n&&(l=2&c[0]?n.return:c[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,c[1])).done)return l;switch(n=0,l&&(c=[2&c[0],l.value]),c[0]){case 0:case 1:l=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(l=r.trys,(l=l.length>0&&l[l.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3])){r.label=c[1];break}if(6===c[0]&&r.label<l[1]){r.label=l[1],l=c;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(c);break}l[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],n=0}finally{a=l=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}"function"==typeof SuppressedError&&SuppressedError;exports.BookingCalendar=function(t){var r=t.setDateUserFormData,s=t.dateFormatterFunction,c=t.reservationDayName,o=t.errorToast,u=t.wrongDateErrorMessage,f=t.hasFetcher,i=t.getAvailableDates,d=t.getAvailableDatesErrorRollback,p=e.useState(new Date),m=p[0],x=p[1],h=e.useState([]),g=h[0],b=h[1];e.useEffect((function(){n(void 0,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:if(!f)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i()];case 2:return e=t.sent(),b(e),[3,4];case 3:return t.sent(),d(),[3,4];case 4:return[2]}}))}))}),[i,d,f]);return a.default.createElement("div",{className:"relative w-full h-full flex flex-col p-2 md:p-4 border border-black shadow-md bg-white"},0===g.length&&a.default.createElement("div",{className:"h-full w-full absolute top-0 left-0 backdrop-blur-sm flex items-center justify-center"},a.default.createElement("div",{className:"p-12 bg-white border border-black flex flex-col space-y-4 items-center justify-center shadow-sm"},a.default.createElement("span",{className:"font-poppins text-black text-2xl font-bold"},"Dates to be decided for reservation"),a.default.createElement("span",{className:"font-poppins text-slate-600 text-xl "},"Please come back later"))),a.default.createElement("div",{className:"flex flex-row justify-between items-center md:p-2 rounded"},a.default.createElement("button",{className:"p-2 px-6 text-black uppercase font-poppins font-light text-lg hover:scale-110",onClick:function(){x((function(e){var t=new Date(e);return t.setMonth(t.getMonth()-1),t.setDate((new Date).getDate()),t}))}},"Prev"),a.default.createElement("span",{className:"text-gray-600 font-poppins text-md"},m.toLocaleDateString("default",{month:"long",year:"numeric"})),a.default.createElement("button",{className:"p-2 px-6  text-black uppercase font-poppins font-light text-lg hover:scale-110",onClick:function(){x((function(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t.setDate((new Date).getDate()),t}))}},"Next")),a.default.createElement("div",{className:"grid grid-cols-7 w-full gap-4"},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return a.default.createElement("div",{key:e,className:"flex items-center justify-center p-2 md:p-8 text-xs font-poppins uppercase text-slate-600 rounded-full"},e)})),function(){for(var e=[],t=new Date(m.getFullYear(),m.getMonth(),1).getDay(),n=new Date(m.getFullYear(),m.getMonth()+1,0).getDate(),l=0;l<t;l++)e.push(a.default.createElement("span",{key:"empty-".concat(l),className:"p-10"}));for(var c=function(n){var l=n===(new Date).getDate()&&m.getMonth()===(new Date).getMonth()&&m.getFullYear()===(new Date).getFullYear(),c=(t+n-1)%7==6,f=(t+n-1)%7==0,i=new Date(m.getFullYear(),m.getMonth(),n+1).toISOString().split("T")[0];e.push(a.default.createElement("div",{className:"flex items-center justify-center w-full",key:n},a.default.createElement("div",{onClick:function(){!function(e){var t=new Date(e);t.setDate(t.getDate()+1);var a=void 0;a=s?s(t):t.toISOString().split("T")[0],g.includes(a)?(x(e),r(a)):o(u)}(new Date(m.getFullYear(),m.getMonth(),n))},className:"flex items-center justify-center w-10 h-10 md:w-16 md:h-16 text-sm font-poppins text-center rounded-full hover:scale-105 duration-200 hover:cursor-pointer ".concat(l?"bg-emerald-200":m.getDate()===n&&g.includes(i)?"bg-emerald-500":c||f?"bg-red-100":g.includes(i)?"bg-cyan-500":"bg-slate-100")},n)))},f=1;f<=n;f++)c(f);return e}()),a.default.createElement("div",{className:"flex flex-row space-x-5 mt-12"},a.default.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},a.default.createElement("div",{className:"w-4 h-4 bg-emerald-100 rounded-full"}),a.default.createElement("h6",{className:"text-xs font-light font-poppins"},"Current date")),a.default.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},a.default.createElement("div",{className:"w-4 h-4 bg-emerald-500 rounded-full"}),a.default.createElement("h6",{className:"text-xs font-light font-poppins"},"Selected Date")),a.default.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},a.default.createElement("div",{className:"w-4 h-4 bg-cyan-500 rounded-full"}),a.default.createElement("h6",{className:"text-xs font-light font-poppins"},c)),a.default.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},a.default.createElement("div",{className:"w-4 h-4 bg-slate-200 rounded-full"}),a.default.createElement("h6",{className:"text-xs font-light font-poppins"},"Date Unavailable")),a.default.createElement("div",{className:"flex flex-row space-x-2 items-center justify-center"},a.default.createElement("div",{className:"w-4 h-4 bg-red-200 rounded-full"}),a.default.createElement("h6",{className:"text-xs font-light font-poppins"},"Weekend"))))};
